<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="images/favicon.ico">

    <title>Sky TV - MemeXtream</title>

    <!-- Bootstrap core CSS -->
    <link href="style/css/bootstrap.css" rel="stylesheet">
    <link href="style/css/custom.css" rel="stylesheet">
	<link href="style/css/videoOverlay.css" rel="stylesheet">
			<link type="text/css" rel="stylesheet" href="release/featherlight.min.css" />

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

  </head>

  <body>
	<div id="light_box_bk"></div>				
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
	  
        <div id="light_box">
		<canvas id="sky_canv"></canvas>
		<div class="col-md-6">
							<div class="input-group">
							  <span class="input-group-addon" id="basic-addon1">Top text</span>
							  <input type="text" class="form-control" id="top_text" placeholder="I don't always create memes" >
							</div>
							<br>
							<div class="input-group">
							  <span class="input-group-addon" id="basic-addon1">Bottom text</span>
							  <input type="text" class="form-control" id="bottom_text" placeholder="but when I do I use MemeXtream" >
							</div>
							<br>
							<button type="button" id="close" class="btn btn-default pull-left" onclick="hideCanvas()"><span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span> Cancel</button>
							<button type="button" id="preview" class="btn btn-default pull-right"><span class="glyphicon glyphicon-ok-circle" aria-hidden="true"></span> Submit</button>
						</div>
		</div>
<div id="navbar"> 
          <ul class="nav navbar-nav" id="player">
			<li> <span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span></li>
            <li>  </li>
			<li>  <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-step-backward" id="rewind" onclick="rewindVid()" aria-hidden="true"></span></button></li>
			<li>  <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-pause" id="play" onclick="playVid()" aria-hidden="true"></span></button></li>
			<li>  <button type="button" class="btn btn-default"><span class="glyphicon glyphicon-step-forward" id="fastforward" onclick="fastforwardVid()" aria-hidden="true"></span></button></li>
			<li><button type="button" class="btn btn-default" href="#" data-featherlight="#sky_canv" onclick="loadCanvas()"><span class="glyphicon glyphicon-ok-circle" id="go" aria-hidden="true"></span></button></li>
          </ul>
        
        </div>
      </div>
	  
    </nav>

	

		
			
			
<video id="sky_vid" src="http://video.webmfiles.org/big-buck-bunny_trailer.webm" muted autoplay></video>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <!-- Bootstrap core JavaScript    ================================================== -->
    <script>window.jQuery || document.write('<script src="js/vendor/jquery.min.js"><\/script>')</script>
    <script src="js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="js/ie10-viewport-bug-workaround.js"></script>
    <!--<script src="js/javascript.js"></script>-->
	<script>
	function playVid() {
		var video = $('#sky_vid');
		video[0].paused ? video[0].play() : video[0].pause();
		$('#play').toggleClass('glyphicon-pause glyphicon-play');
	}
	
	function fastforwardVid() {
		var now = $('#sky_vid')[0].currentTime;
		$('#sky_vid')[0].currentTime=now+0.1;
	}
	
	function rewindVid() {
		var now = $('#sky_vid')[0].currentTime;
		$('#sky_vid')[0].currentTime=now-0.1;
	}
	
	function loadCanvas() {
		$('#light_box').show(200);
		$('#light_box_bk').show(500);
	}
	
	function hideCanvas() {
		$('#light_box').hide(500);
		$('#light_box_bk').hide(200);
	}
	
var canvas = $('#sky_canv')[0];
var ctx    = canvas.getContext('2d');
var video  = $('#sky_vid')[0];

/*function preview() {
var canvas = $('#sky_canv')[0];
var context    = canvas.getContext('2d');
var video  = $('#sky_vid')[0];

var top_text = $('#top_text').val();
context.font = 'bold 10pt Calibri';
  context.fillText('Hello World!', 150, 100);
  context.font = 'italic 40pt Times Roman';
  context.fillStyle = 'blue';
  context.fillText('Hello World!', 200, 150);
  context.font = '60pt Calibri';
  context.lineWidth = 4;
  context.strokeStyle = 'blue';
  context.strokeText('Hello World!', 70, 70);
return false;
}*/

$(function() {
var canvas = $('#sky_canv')[0];
var ctx    = canvas.getContext('2d');
var video  = $('#sky_vid')[0];
	$('#top_text').keyup(function() {
		ctx.font="30px Arial";
		ctx.fillText($(this).val(), 200, 50);
	});
	
		$('#bottom_text').keyup(function() {
		ctx.font="30px Arial";
		ctx.fillText($(this).val(), 200, 350);
	});

	$('#preview').click(function() {
		ctx.font="30px Arial";
		ctx.fillText($('#text_top').val(), 200, 100);
		ctx.fillText($('#text_bottom').val(), 800, 100);
	});
});


video.addEventListener('play', function () {
    var $this = this; //cache
	$('#sky_canv').attr('width', $('#sky_vid').get(0).videoWidth);
	$('#sky_canv').attr('height', $('#sky_vid').get(0).videoHeight);
    (function loop() {
        if (!$this.ended && !$this.paused) {
            ctx.drawImage($this, 0, 0);
            setTimeout(loop, 1000 / 30); // drawing at 30fps
        }
    })();
	
}, 0);
	
	</script>
	<!--<script src="release/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

		<script>
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','//stats.g.doubleclick.net/dc.js','ga');

			ga('create', 'UA-5342062-6', 'noelboss.github.io');
			ga('send', 'pageview');
		</script>-->
  </body>
</html>
